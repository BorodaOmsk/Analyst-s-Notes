## Как написать хорошую пользовательскую историю

![alt text](/INVEST/image/image1.png)

## Оглавление:

- [Что такое INVEST в Agile?](#что-такое-invest-в-agile)
> - [Independent (Независимый)](#independent-независимый)
> - [Negotiable (Обсуждаемый)](#negotiable-обсуждаемый)
> - [Valuable (Ценный)](#valuable-ценный)
> - [Estimatable (Относительный размер)](#estimatable-относительный-размер)
> - [Small (Маленький)](#small-маленький)
> - [Testable (Тестируемая)](#testable-тестируемая)
- [Дополнительные концепции INVEST](#дополнительные-концепции-invest)
> - [Три С](#три-с)
> - [Принцип DEEP](#принцип-deep)
- [Многие атрибуты пользовательских историй субъективны.](#многие-атрибуты-пользовательских-историй-субъективны)
- [Совершенство нежелательно и невозможно](#совершенство-нежелательно-и-невозможно)




**Для начала вспомним что же такое [User Story ](/User%20Story/User%20Story.md)**

Существует множество методов, которые практикующие Agile используют для написания эффективных пользовательских историй, и в этой статье мы рассмотрим один из этих методов — принцип **INVEST**.

# Что такое INVEST в Agile?

**INVEST** — это аббревиатура, помогающая командам писать высококачественные, конкретные пользовательские истории, которые являются независимыми, обсуждаемыми, ценными, оцениваемыми, небольшими и поддающимися тестированию. Таким образом, принцип INVEST — это практика или структура, которой следует следовать при создании этих пользовательских историй:

![alt text](/INVEST/image/image.png)

Давайте подробнее рассмотрим каждый из атрибутов пользовательской истории, связанных с принципом INVEST.

  # Independent (Независимый)

Независимая пользовательская история — это история, которая: 
1. Концептуально отделена от других пользовательских историй 
2. Не зависит от завершения других пользовательских историй.

Независимый аспект важен, поскольку agile-команды стремятся выявить любые существующие зависимости и устранить их, когда это возможно, а этого невозможно, если пользовательские истории зависят от завершения друг друга.

Например, предположим, что Scrum-команда рассматривает возможность работы над двумя пользовательскими историями (назовем их A и B) в течение одного спринта. Работа над историей Б не может начаться, пока не будет завершена история А. Если история А не завершается до конца спринта (или остается незавершенной), команда ставит себя в положение, когда вероятность незавершенной работы значительно выше. Поступая таким образом, команда взяла на себя риск графика.

# Negotiable (Обсуждаемый)

Когда команда рассматривает пользовательскую историю как предмет обсуждения, это означает, что эта история является «приглашением к разговору». По мере того, как команда лучше знакомится с контекстом истории, могут появиться дополнительные идеи, может измениться формулировка истории и могут быть добавлены детали.

Agile-команды используют свою совокупную мудрость, чтобы найти достаточно хорошее решение для удовлетворения конкретной потребности пользователя, где «достаточно хорошее» обеспечивает баланс между ценностью (удовлетворением реальной потребности), стоимостью (разумно небольшой кусок работы) и сложностью. (в соответствии с существующим дизайном/архитектурой).

# Valuable (Ценный)

Это довольно понятно. Завершенная пользовательская история имеет ценность, когда она отвечает реальным потребностям клиента.

Один из принципов Agile-манифеста — работа с программным обеспечением, а не исчерпывающая документация, и это утверждение помогает командам помнить о том, что потребности клиентов должны быть превыше всего. Точно так же завершение каждой пользовательской истории должно быть реализовано как фактическое предоставление ценности, даже если это небольшое изменение.

# Estimatable (Относительный размер, Оценка)

Оцениваемая пользовательская история — это история, которая достаточно хорошо понята членами команды, чтобы иметь возможность определить ее относительный размер. На практике «относительный размер» означает, что, учитывая набор пользовательских историй, члены команды могут определить, какие истории примерно одинакового размера (размеры футболок, такие как маленький, средний и большой, часто служат полезной конструкцией относительного размера).

Важно признать, что некоторые команды не оценивают пользовательские истории. Таким образом, возможность оценки является синонимом готовности к работе без лишних разговоров. Для команд, которые проводят оценку, это также означает, что они знают о ней достаточно, чтобы присвоить ей размер.

# Small (Маленький)

Небольшая пользовательская история — это история, которую можно завершить за короткий промежуток времени — например, не более чем за несколько рабочих дней.

Это важно, потому что команды, которые постоянно работают над небольшими пользовательскими историями, имеют гораздо больше шансов закончить истории, чем команды, которые изо всех сил стараются сохранить свои истории большими.

# Testable (Тестируемая) 

Тестируемая пользовательская история — это история, соответствие которой можно проверить критериям приемлемости истории (также известным как «условия удовлетворения»).

Самый четкий признак того, что история готова, — это прохождение всех ее тестов. Пользовательские истории с расплывчатыми или отсутствующими критериями приемки с гораздо большей вероятностью окажутся в виде проблем с качеством, когда они попадут в руки клиента.

# Дополнительные концепции INVEST 
- **Три С**
- **Принцип DEEP**

# Три С
- **Card (Карточка)** - исходная элементарная концепция, связанная с пользовательской историей (самой короткой формой которой является заголовок истории).
- **Conversation (Диалог)** - диалог, который происходит между членами команды во время сессий планирования команды или на разовой основе. Это приводит к лучшему пониманию пользовательской истории, часто выражаемой через документацию (где документация чаще всего является внутренней по отношению к пользовательской истории, а также может быть внешней по отношению к пользовательской истории).
- **Confirmation (Подтверждение)** - Точка, в которой члены команды имеют общее понимание пользовательской истории, часто формализованное с помощью критериев приемки.
- 
Принцип **INVEST** особенно хорошо согласуется с частями разговора и подтверждения **трех C**, поскольку командное понимание пользовательской истории, скорее всего, будет достигнуто, когда каждая из шести частей **INVEST** проявляется во время командного разговора.

# Принцип DEEP

Принцип DEEP также хорошо работает в сочетании с принципом INVEST. Вы можете применить DEEP к бэклогу продукта в целом, а можете использовать INVEST для полной разработки отдельных пользовательских историй в бэклоге продукта.

Таким образом, для любого элемента в бэклоге продукта команда может увидеть, верно ли каждое из следующих утверждений:

 - **Detailed appropriately** - пользовательские истории в верхней части бэклога продукта или рядом с ним сформулированы на таком уровне детализации, что они готовы для работы команды практически без дополнительных разговоров, в то время как истории, расположенные ниже в бэклоге, содержат меньше деталей.
 - **Estimated** -  пользовательские истории, находящиеся в верхней части бэклога продукта или рядом с ней, были оценены или могут быть оценены, в то время как истории, расположенные ниже в бэклоге, вероятно, недостаточно хорошо поняты, чтобы их можно было оценить.
 - **Emergent** -  Предполагается, что существует процесс открытия, который происходит, когда список невыполненных работ по продукту меняется с течением времени. В связи с отзывами о продукте, изменениями рыночных условий, техническими соображениями и другими факторами добавляются новые истории, а существующие обновляются, удаляются или меняются приоритеты.
 - **Prioritized** - Предполагается, что наиболее важные пользовательские истории находятся в верхней части очереди продукта или рядом с ней, но с оговоркой, что приоритеты могут меняться со временем.
  
  Вот несколько связанных концепций, которые особенно важно понимать в сочетании с принципом DEEP и управлением бэклогом продукта в целом:

  - **Progressive elaboration (Прогрессивная разработка)** - Сосредоточив внимание на пользовательских историях, находящихся в верхней части журнала невыполненной работы продукта или рядом с ней, и НЕ тратя время на истории, которые находятся дальше в журнале невыполненной работы продукта, команды практикуют прогрессивную разработку.
  - **Trimming the tail (Подрезание хвоста)** - Практически в каждом бизнес-контексте реальностью является то, что некоторые пользовательские истории в бэклоге продукта **НИКОГДА** не обрабатываются. Обрезание «хвоста» означает, что вы можете принять решение о повороте после поставки только подмножества элементов в бэклоге продукта.

**Что следует помнить при применении принципа INVEST**

Как и многие другие элементы гибкого инструментария, принцип INVEST состоит из набора рекомендаций, а не жесткого свода правил. Существует множество распространенных заблуждений и ошибок, которых следует избегать при применении принципа INVEST, поэтому вот несколько советов, которые следует иметь в виду:

**Вы не можете устранить всю неопределенность**

При проверке и уточнении пользовательских историй некоторые детали могут стать более ясными только после начала разработки. Ничто не заменит постоянное командное общение , позволяющее всем оставаться на одной волне.

# Многие атрибуты пользовательских историй субъективны.

Например, при написании пользовательских историй может быть сложно сделать так, чтобы их бизнес-ценность была очевидна. Вовлечение нескольких членов команды при написании и пояснении историй помогает обеспечить максимальную ясность бизнес-намерений и ожидаемых бизнес-выгод.

# Совершенство нежелательно и невозможно

При формулировании пользовательских историй существует тонкая грань между «достаточно хорошо» и «чрезмерно». Например, распространенный антишаблон при оценке — тратить много времени на обсуждение размера конкретной пользовательской истории.