**Что такое Entity Relationship Diagram (ERD)?**

![alt text](image/image15.png)

**Оглавление:**
- [Что такое Entity Relationship Diagram (ERD)?](#что-такое-entity-relationship-diagram-erd)
- [Компоненты ERD](#компоненты-erd)
  - [Сущность](#сущность)
  - [Отношения](#отношения)
  - [Атрибут](#атрибут)
- [Что такое кардинальность?](#что-такое-кардинальность)
- [Естественный язык](#естественный-язык)
- [Символы и обозначения](#символы-и-обозначения)
  - [Chen](#chen)
  - [Воронья лапка (Crow’s Foot)](#воронья-лапка-crows-foot)
  - [Bachman](#bachman)
  - [IDEF1X](#idef1x)
  - [Barker](#barker)
- [Концептуальный, логический, физический (conceptual, logical, physical)](#концептуальный-логический-физический-conceptual-logical-physical)
  - [Концептуальная модель данных](#концептуальная-модель-данных)
  - [Логическая модель данных](#логическая-модель-данных)
  - [Физическая модель данных](#физическая-модель-данных)
- [Как создать Entity Relationship Diagram](#как-создать-entity-relationship-diagram)
- [Несколько советов по созданию Entity Relationship Diagram (ERD):](#несколько-советов-по-созданию-entity-relationship-diagram-erd)





##  Что такое Entity Relationship Diagram (ERD)?

Entity Relationship Diagram (ERD) - это тип диаграммы, позволяющий увидеть, как различные сущности (например, люди, клиенты или другие объекты) связаны друг с другом в приложении или базе данных.

Они создаются при проектировании новой системы, чтобы команда разработчиков могла понять, как структурировать базу данных. Они также могут быть созданы в существующей системе, чтобы помочь команде понять, как работает система, найти и устранить любые проблемы.

Диаграммы отношений сущностей используют определенный набор символов, таких как фигуры и стрелки, для изображения системы и базы данных.

Вот пример ERD:
![alt text](image/image1.png)

## Компоненты ERD

Диаграмма отношений между сущностями состоит из множества различных компонентов:

- Сущность (Entity)
- Отношение (Relationship)
- Атрибут (Attribute)

### Сущность
Сущность - это объект, о котором можно хранить данные. Это может быть физический объект (например, автомобиль, человек), понятие (например, адрес) или событие (например, зачисление студента на курс). Они представляют собой существительные.

Обычно они представлены в виде прямоугольников на ERD с именем сущности внутри прямоугольника.

Сущность также может быть сильной или слабой сущностью. В чем разница?

Сильная сущность имеет идентификатор (первичный ключ) и ее существование не зависит от других сущностей. Например, студент может быть сильной сущностью, поскольку у него есть первичный ключ и его существование не зависит от других сущностей.

Слабая сущность - это сущность, существование которой зависит от сильной сущности. Это означает, что она имеет внешний ключ к другой сущности. Например, зачисление студента может быть слабой сущностью, поскольку зачисление не может существовать без студента.

### Отношения
Отношения в ERD определяют, как две сущности связаны друг с другом. Они могут быть получены из глаголов, когда речь идет о базе данных или наборе сущностей.

Отношения в ERD представлены в виде линий между двумя сущностями и часто имеют метку на линии для дальнейшего описания отношений (например, "зачисляется", "регистрируется", "завершается").

Существует несколько типов отношений, представленных в ERD:

- **Один к одному:** Одна запись сущности напрямую связана с другой записью сущности.
- **Один ко многим:** Одна запись сущности связана с одной или несколькими записями другой сущности.
- **Многие ко многим:** Многие записи одной сущности могут быть связаны со многими записями другой сущности.

### Атрибут
Атрибут - это свойство сущности или то, что может быть использовано для описания сущности. Они часто представляются в виде овалов или записей внутри сущности.

Существует несколько различных типов атрибутов, представленных в ERD:

- **Простой:** атрибут, который не может быть разделен на другие атрибуты, например, имя и фамилия.
- **Составной:** атрибут, который может быть разделен на другие атрибуты, например, имя, разделенное на имя, середину и фамилию.
- **Производный:** атрибут, который вычисляется или определяется из другого атрибута, например, возраст записи вычисляется из даты создания.

Атрибут также может быть однозначным или многозначным:

- **Однозначный:** атрибут, который фиксируется только один раз.
- **Многозначный:** атрибут, который может быть зафиксирован более одного раза для сущности, например, несколько телефонных номеров.

## Что такое кардинальность?
Кардинальность представляет собой количество экземпляров сущности, которые существуют в отношениях между двумя сущностями. Часто это выражается числом, но может быть и символом, в зависимости от стиля используемой диаграммы. Общими значениями кардинальности являются ноль, один или много.

## Естественный язык
Когда мы создаем ERD, у нас часто есть представление о том, что мы хотим отобразить. Обычно это можно выразить словами или с помощью "естественного языка".

Вот некоторые примеры:

- "Зафиксировать студентов, курсы, на которые они записались, и преподавателей, которые ведут эти курсы".
- "Зафиксировать заказы клиентов, их данные и место отправки заказов".
- "Зафиксировать данные пациента и проведенные им операции".

Эти предложения включают несколько различных типов слов, которые можно использовать в качестве отправной точки для ERD. Они представлены несколькими различными способами:

- **Существительное:** "вещь", например студент или клиент. Представляется как сущность.
- **Глагол:** действие, например, записаться или отправить. Представляется как отношение между двумя сущностями.
- **Прилагательное:** описывающее слово, например, residential или advanced. Представлено как атрибут сущности.

Это поможет вам перевести описание того, что вам нужно изобразить на диаграмме, в реальную диаграмму.

## Символы и обозначения

При создании ERD может быть просто создать ячейки и линии между ними. Но, как и во многих других областях разработки программного обеспечения, существует несколько различных методов и стандартов. Для ERD существует несколько стандартов обозначений, которые определяют используемые символы.

### Chen

Вот пример символов, используемых в нотации Chen.

![alt text](image/image2.png)

Вот пример ERD с использованием нотации Chen:

![alt text](image/image3.png)

### Воронья лапка (Crow’s Foot)
Вот пример символов, используемых в стиле нотации "воронья лапка". Этот стиль вы чаще всего видите на Database Star, так как он наиболее знаком мне. Он называется "воронья лапка", поскольку символ многих отношений похож на лапку ворона с тремя зубцами.

![alt text](image/image4.png)

Вот пример ERD с использованием нотации "воронья лапка":

![alt text](image/image5.png)


### Bachman
Вот пример символов, используемых в нотации Bachman.

![alt text](image/image6.png)

Вот пример ERD с использованием нотации Bachman:

![alt text](image/image7.png)

### IDEF1X
Вот пример символов, используемых в стиле нотации IDEF1X.

![alt text](image/image8.png)

Вот пример ERD с использованием нотации IDEF1X:

![alt text](image/image9.png)

### Barker
Вот пример символов, используемых в стиле нотации Barker.

![alt text](image/image10.png)

Вот пример ERD с использованием нотации Barker:

![alt text](image/image11.png)


## Концептуальный, логический, физический (conceptual, logical, physical)
Entity Relationship Diagram между сущностями может быть построена на трех различных уровнях: концептуальном, логическом или физическом.

Каждый из этих уровней имеет разную степень детализации и используется для разных целей.

Давайте рассмотрим несколько примеров.

### Концептуальная модель данных
Концептуальная модель данных показывает, какие бизнес-объекты существуют в системе и как они связаны друг с другом.

Она определяет существующие сущности, которые не обязательно являются таблицами. Мышление о таблицах слишком детализировано для этого типа модели данных.

Пример концептуальной модели данных показан здесь. В ней показаны студенты, курсы и их взаимосвязь.

![alt text](image/image12.png)

### Логическая модель данных
Логическая модель - это более подробная версия концептуальной модели данных. К каждой сущности добавляются атрибуты, и можно добавить дополнительные сущности, которые представляют области для сбора данных в системе.

Вот пример модели данных о студентах и курсах, созданной в виде логической модели данных.

![alt text](image/image13.png)

### Физическая модель данных
Физическая модель данных - это самая подробная модель данных в этом процессе. Она определяет набор таблиц и столбцов и то, как они связаны друг с другом. Она включает первичные и внешние ключи, а также типы данных для каждого столбца.

Эти диаграммы можно создать вручную в инструменте моделирования данных. Также они часто генерируются IDE на основе существующей базы данных.

Вот пример физической модели данных студента и курса.

![alt text](image/image14.png)

В этой таблице описаны различия между концептуальной, логической и физической моделью:

| Feature         | Conceptual | Logical | Physical |
|-----------------|------------|---------|----------|
| Entity          | Yes        | Yes     | Yes      |
| Relationship    | Yes        | Yes     | Yes      |
| Attribute       |            | Yes     | Yes      |
| Attribute Types |            |         | Yes      |
| Keys            |            |         | Yes      |

## Как создать Entity Relationship Diagram

Процесс создания ERD выглядит следующим образом:

1. Напишите пару предложений о том, о чем вы храните данные
2. Перечислите, о чем вы храните данные - существительные/объекты
3. Перечислите информацию, которую вы хотите хранить для каждого объекта
4. Опишите связи между каждым объектом.
5. Нарисуйте диаграмму
 
Приведенные здесь шаги кратки, но процесс может занять некоторое время, в зависимости от того, насколько хорошо вы знакомы с системой и насколько опытны в создании Entity Relationship Diagrams.

## Несколько советов по созданию Entity Relationship Diagram (ERD):

- Определите нужный уровень детализации в зависимости от цели диаграммы. Команды разработчиков часто считают логическую модель наиболее полезной, но для других может оказаться более ценной концептуальная модель.
- Просмотрите сущности и атрибуты, чтобы убедиться, что они включают все, что вы хотите хранить в системе.
- Назовите все сущности и атрибуты.
- Если у вас большая диаграмма, используйте цвета для выделения различных разделов или разбейте ее на более мелкие диаграммы.
- Будьте последовательны в именовании и используемых символах.