![alt text](/Languages/YAML/image/image10.png)

## Оглавление:

- [Что такое YAML?](#что-такое-yaml)
- [YAML vs JSON vs XML](#yaml-vs-json-vs-xml)
  - [YAML (.yml):](#yaml-yml)
  - [JSON](#json)
  - [XML](#xml)
- [Основные возможности YAML](#основные-возможности-yaml)
  - [Поддержка нескольких документов.](#поддержка-нескольких-документов)
  - [Встроенные комментарии](#встроенные-комментарии)
  - [Читабельный синтаксис.](#читабельный-синтаксис)
  - [Неявная и явная типизация](#неявная-и-явная-типизация)
  - [Отсутствие исполняемых команд](#отсутствие-исполняемых-команд)
- [Синтаксис YAML](#синтаксис-yaml)
  - [Пары ключ-значение](#пары-ключ-значение)
  - [Scalars and mapping](#scalars-and-mapping)
  - [Строка](#строка)
  - [Последовательность](#последовательность)
  - [Словари](#словари)
- [Что ещё может YAML?](#что-ещё-может-yaml)
- [Полезные ссылки](#полезные-ссылки)


# Что такое YAML?

YAML - **это язык сериализации данных** для хранения информации в человекочитаемой форме. Изначально он расшифровывался как "Yet Another Markup Language", но с тех пор был переименован в "YAML Ain't Markup Language", чтобы отличить себя от настоящего языка разметки.

Он похож на файлы XML и JSON, но использует более минималистичный синтаксис, сохраняя при этом схожие возможности. YAML обычно используется для создания файлов конфигурации в программах «Инфраструктура как код» (IoC) или для управления контейнерами в конвейере разработки DevOps.

YAML также используется для создания протоколов автоматизации, которые могут выполнять ряд команд, перечисленных в файле YAML. Это означает, что ваши системы могут быть более независимыми и отзывчивыми без дополнительного внимания разработчиков.

Поскольку все больше компаний внедряют DevOps и виртуализацию, YAML быстро становится обязательным навыком для современных разработчиков. YAML также легко интегрировать с существующими технологиями благодаря поддержке таких популярных технологий, как Python с помощью библиотеки PyYAML, Docker или Ansible.

# YAML vs JSON vs XML

## YAML (.yml):

- Человекочитаемый код
- Минималистичный синтаксис
- Заточен под работу с данными
- Схожий с JSON инлайн-стиль (является надмножеством JSON)
- Поддерживает комментарии
- Поддерживает строки без кавычек
- Считается "более чистым" JSON
- Расширенные функции (расширяемые типы данных, реляционные привязки и типы сопоставлений, сохраняющие порядок ключей)

Применение: **DevOps, описание OPEN API**

## JSON

- Сложнее читать
- Явные, строгие требования к синтаксису
- Схожий с YAML инлайн-стиль (некоторые парсеры YAML могут читать файлы JSON)
- Нет комментариев
- Строкам нужны двойные кавычки

Применение:  **формат для  REST API по умолчанию, простые структуры(таблицы, вложенные сущности)**

## XML

- Труднее читать
- Более многословный
- Выступает в качестве языка разметки, в то время как YAML - предназначен для форматирования данных
- Содержит больше возможностей, чем YAML, например, атрибуты тегов
- Более жестко определенная схема документа

Применение: **SOAP, Сложные структуры данных, которые нужно подробно описать и  верифицировать на входе.**

# Основные возможности YAML

Вот некоторые из лучших возможностей YAML.

## Поддержка нескольких документов.

 Вы можете разместить несколько документов YAML в одном файле YAML, чтобы упростить организацию файлов или анализ данных. Разделение каждого документа обозначается тремя тире (---).

---

 `---`

player: playerOne
action: attack (miss)

 `---`

player: playerTwo
action: attack (hit)

 `---`

 ---

## Встроенные комментарии

YAML позволяет добавлять комментарии к файлам с помощью хэш-символа (#), аналогично комментариям в Python.

---

`key: **#Here is a single-line comment**`

   `- value line 5`

  `#Here is a`

  ` #multi-line comment`

 `- value line 13`

---


## Читабельный синтаксис.

В файлах YAML используется система отступов, аналогичная Python, чтобы показать структуру вашей программы. Чтобы избежать путаницы, для создания отступов необходимо использовать пробелы, а не табуляции.Он также отсекает большую часть «шума», присутствующего в файлах JSON и XML, например кавычки, скобки и фигурные скобки.Вместе эти спецификации форматирования повышают читаемость файлов YAML за пределами XML и JSON.

**YAML Example**

---

`Imaro:`

   `author: Charles R. Saunders`

   `language: English`

   `publication-year: 1981`

   `pages: 224`

---

**JSON Example**

---

{

  "Imaro": {

    "author": "Charles R. Saunders",

    "language": "English",

     "publication-year": "1981",

     "pages": 224,

  }

}

---

Заметьте, что передается та же самая информация; однако удаление двойных кавычек, запятых и скобок во всем файле YAML делает его гораздо более удобным для чтения с первого взгляда.

## Неявная и явная типизация

YAML обеспечивает универсальность типизации благодаря автоматическому определению типов данных, а также поддержке явных вариантов типизации. Чтобы пометить данные как определенный тип, просто включите **!!![typeName]** перед значением.

---

`#The value should be an int:`

`is-an-int: !!int 14.10`

`#Turn any value to a string:`

`is-a-str: !!str 67.43`

`#The next value should be a boolean:`

`is-a-bool: !!bool true`

---


## Отсутствие исполняемых команд
Будучи форматом представления данных, YAML не содержит исполняемых файлов. Поэтому обмен файлами YAML с внешними сторонами очень безопасен.

Для добавления исполняемых файлов YAML должен быть интегрирован с другими языками, например Perl или Java.


# Синтаксис YAML

В YAML есть несколько основных понятий, которые составляют большую часть данных.

## Пары ключ-значение

В общем случае большинство элементов в файле YAML представляют собой форму пары ключ-значение, где ключ представляет собой имя пары, а значение - данные, связанные с этим именем. Пары ключ-значение являются основой для всех остальных конструкций YAML.

---

`<key>: <value>`

---

## Scalars and mapping
Scalars представляют одно сохраненное значение. Scalars присваиваются именам ключей с помощью сопоставления. Вы определяете сопоставление с именем, двоеточием и пробелом, а затем значением, которое оно должно содержать.YAML поддерживает распространенные типы, такие как целые числа и числовые значения с плавающей запятой, а также нечисловые типы Boolean и String.Каждый из них может быть представлен по-разному, например шестнадцатеричным, восьмеричным или экспоненциальным. Существуют также специальные типы для математических понятий, таких как бесконечность, -бесконечность и (NAN).

---

`integer: 25`

`hex: 0x12d4 #evaluates to 4820`

`octal: 023332 #evaluates to 9946`


`float: 25.0`

`exponent: 12.3015e+05 #evaluates to 
1230150.0`

`boolean: Yes`

`string: "25"`

`infinity: .inf # evaluates to infinity`

`neginf: -.Inf #evaluates to negative infinity`

`not: .NAN #Not a Number`

---

## Строка
Строки - это набор символов, представляющих собой предложение или фразу. Вы можете использовать либо | для печати каждой строки в виде новой строки, либо > для печати в виде абзаца.

Строки в YAML не обязательно заключать в двойные кавычки.


---

`str: Hello World`

`data: |`

   `These`

   `Newlines`

   `Are broken up`

`data: >`

   `This text is`

   `wrapped and is a`

   `single paragraph`

---


## Последовательность
Последовательности - это структуры данных, похожие на список или массив, в которых хранится несколько значений по одному и тому же ключу. Они определяются в блочном или Flow стиле.

Блочный стиль использует пробелы для структурирования документа. Его легче читать, но он менее компактен по сравнению со стилем Flow.

---


`#Shopping List Sequence in Block Style`

`shopping:` 

`- milk`

`- eggs`

`- juice`

---

Стиль Flow позволяет записывать последовательности в строку с помощью квадратных скобок, подобно объявлению массива в таких языках программирования, как Python или JavaScript. Стиль Flow более компактен, но его сложнее читать с первого взгляда.

---

`#Shopping List Sequence in Flow Style`

`shopping: [milk, eggs, juice]`

---


## Словари
Словари - это коллекции пар ключ-значение, вложенные в одну подгруппу. Они помогают разделить данные на логические категории для последующего использования.

Словари определяются так же, как и сопоставления: вы вводите имя словаря, двоеточие и пробел, а затем 1 или несколько пар ключ-значение с отступом.

---

`#An employee record`

`Employees: `

`- dan:`

    `name: Dan D. Veloper`

    `job: Developer`

    `team: DevOps`

`- dora:`

   `name: Dora D. Veloper`

   `job: Project Manager`
   
   `team: Web Subscriptions`

---

**Словари могут содержать и более сложные структуры, такие как последовательности. Вложенные последовательности - хороший прием для представления сложных реляционных данных.**


# Что ещё может YAML?

- Anchors (якоря)
- Templates (шаблоны)
- Взаимодействие с Docker, Ansible и т. д.
- Расширенные последовательности и маппинг.
- Расширенные типы данных (timestamp, null и т. д.)


# Полезные ссылки

**Specifications** - https://yaml.org/spec/1.2.2/

**YAML Lint** - https://www.yamllint.com

**всё о YAML в одном месте** - https://yaml.org
